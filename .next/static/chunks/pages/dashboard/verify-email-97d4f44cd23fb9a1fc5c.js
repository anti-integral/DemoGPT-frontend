(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{132:function(e,n,t){"use strict";var r=t(3848);Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!s,c=a.useRef(),u=a.useState(!1),l=r(u,2),f=l[0],d=l[1],v=a.useCallback((function(e){c.current&&(c.current(),c.current=void 0),t||f||e&&e.tagName&&(c.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=o.get(n);if(t)return t;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return o.set(n,t={id:n,observer:a,elements:r}),t}(t),a=r.id,i=r.observer,s=r.elements;return s.set(e,n),i.observe(e),function(){s.delete(e),i.unobserve(e),0===s.size&&(i.disconnect(),o.delete(a))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,f]);return a.useEffect((function(){if(!s&&!f){var e=i.requestIdleCallback((function(){return d(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[f]),[v,f]};var a=t(7294),i=t(3447),s="undefined"!==typeof IntersectionObserver;var o=new Map},9647:function(e,n,t){"use strict";t.r(n);var r=t(266),a=t(809),i=t.n(a),s=t(7294),o=t(5675),c=t(3651),u=t(1163),l=t(5893);n.default=function(e){var n=(0,s.useState)(""),t=n[0],a=n[1],f=(0,s.useContext)(c.WindmillContext).mode,d=(0,u.useRouter)(),v="dark"===f?"/assets/img/login-office-dark.jpeg":"/assets/img/login-office.jpeg",m=function(){var n=(0,r.Z)(i().mark((function n(r){var a,s,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("verify"),r.preventDefault(),a={name:e.name,email:e.email,password:e.password,code:t},n.next=5,fetch("".concat("http://localhost:8000/auth/login/manual"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return s=n.sent,n.next=8,s.json();case 8:o=n.sent,console.log(o),o.token?(localStorage.setItem("token",o.token),d.push("/dashboard"),alert("verification successful")):alert("verification failed. Please try again");case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,l.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:(0,l.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:(0,l.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[(0,l.jsx)("div",{className:"relative h-32 md:h-auto md:w-1/2",children:(0,l.jsx)(o.default,{"aria-hidden":"true",className:"hidden object-cover w-full h-full",src:v,alt:"Office",layout:"fill"})}),(0,l.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200",children:"Login"}),(0,l.jsxs)(c.Label,{children:[(0,l.jsx)("span",{children:"Verification Code:"}),(0,l.jsx)(c.Input,{className:"mt-1",type:"text",value:t,onChange:function(e){return a(e.target.value)}})]}),(0,l.jsx)(c.Button,{className:"mt-4",onClick:m,block:!0,children:"Submit"})]})})]})})})}},6485:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/verify-email",function(){return t(9647)}])},266:function(e,n,t){"use strict";function r(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(u){return void t(u)}o.done?n(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var s=e.apply(n,t);function o(e){r(s,a,i,o,c,"next",e)}function c(e){r(s,a,i,o,c,"throw",e)}o(void 0)}))}}t.d(n,{Z:function(){return a}})}},function(e){e.O(0,[675,774,888,179],(function(){return n=6485,e(e.s=n);var n}));var n=e.O();_N_E=n}]);